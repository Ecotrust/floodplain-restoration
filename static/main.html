<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="http://netdna.bootstrapcdn.com/bootswatch/3.1.1/cerulean/bootstrap.min.css">

	<style>
	 td.True { width: 75px; height:22px;}
	 td.False { width: 75px; }
	 td { text-align: center; width: 75px;}
	 input.form-control {width: 75px !important;}
	 input.form-slider {width: 175px !important;}
	 body { padding-left: 18px; padding-top: 2px;}
	.table>tbody>tr>td, .table>tfoot>tr>td {
	 padding: 2px;
	 .res { width: 85px; padding:16px; background-color: #ccc;}
	}
	.form-control { height: 26px;}
	</style>
	<script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>

	<script>
	$( document ).ready(function() {
		$("input").change(function(event) {
			var d = $( "#mainform" ).serialize();
	        event.preventDefault();
	        $.ajax({
			  dataType: 'json',
			  url: '/query',
			  data: d,
			  error: function (data) {
	              console.log("Error");
			  },
			  success: function (data) {
	              $("#results").html(data['restore']);
			  }
	        });
		});
    });
	</script>
</head>
<body>
	<h1> Gravel Mine Restoration Bayesian Decision Model </h1>
	<div class="row">
    <div class="col-md-5">

    <h3> Conditional Probability Table</h3>
	    <form role="form" class="form-horizontal" id="mainform" action="test.html">

	<table class="table table-striped table-bordered table-hover">
	<tr>
		<th> Landscape <br> Context</th>
		<th> Site <br> Context</th>
		<th> Current <br> Ecological <br> Context </th>
		<th> Future <br> Ecological <br> Context </th>
		<th> Suitability </th></td>
    </tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>
	<td><input name="cpt1" type="range" min="0" max="100" class="form-slider" value="80"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td></td>

	<td><input name="cpt2" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt3" type="range" min="0" max="100" class="form-slider" value="100"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="False">    </td></td>

	<td><input name="cpt4" type="range" min="0" max="100" class="form-slider" value="10"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt5" type="range" min="0" max="100" class="form-slider" value="30"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td></td>

	<td><input name="cpt6" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt7" type="range" min="0" max="100" class="form-slider" value="50"></input></td></tr>
	
	<tr><td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="False">    </td>
	<td class="False">    </td></td>

	<td><input name="cpt8" type="range" min="0" max="100" class="form-slider" value="10"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt9" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td></td>

	<td><input name="cpt10" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt11" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td>
	<td class="False">    </td></td>

	<td><input name="cpt12" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt13" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td>
	<td class="False">    </td></td>

	<td><input name="cpt14" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="False">    </td>
	<td class="False">    </td>
	<td class="True"><span class="glyphicon glyphicon-ok"></span></td></td>

	<td><input name="cpt15" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	<tr><td class="False">    </td>
	<td class="False">    </td>
	<td class="False">    </td>
	<td class="False">    </td></td>

	<td><input name="cpt16" type="range" min="0" max="100" class="form-slider" value="0"></input></td></tr>
	
	</table>
    </div>
    <div class="col-md-1">
    </div>
    <div class="col-md-6">
    <h3> User input (indirect) </h3>
		  <div class="form-group">
		    <label for="landscape">Landscape Context</label>
		    <p> Does the surrounding/downstream landscape allow for restoration work? </p>
		    <input name="landscape" type="range" min="0" max="100" class="form-slider" id="landscape" value="50">
		  </div>
		  <div class="form-group">
		    <label for="site">Site Context</label>
   		    <p> Is the site accessible and easily restorable? </p>
		    <input name="site" type="range" min="0" max="100" class="form-slider" id="site" value="50">
		  </div>
		  <div class="form-group">
		    <label for="current">Current Ecological Context</label>
   		    <p> Does the site currently provide excellent habitat for your species of interest?</p>
		    <input name="current" type="range" min="0" max="100" class="form-slider" id="current" value="50">
		  </div>
		  <div class="form-group">
		    <label for="future">Future Ecological Context</label>
   		    <p> Could the site provide excellent habitat if properly restored?</p>
		    <input name="future" type="range" min="0" max="100" class="form-slider" id="future" value="50">
		  </div>
<!-- 		  <button type="submit" class="btn btn-primary">Submit</button> -->
		</form>
		<hr>
		<div class="jumbotron res col-md-6">
			<h3> Suitability </h3>
		    <h1 id="results">--</h1>
        </div>
    </div>
</div>
</body>
</html>
